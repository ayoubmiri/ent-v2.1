{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ayoub\\\\OneDrive\\\\Bureau\\\\est-sale-frontend\\\\src\\\\pages\\\\LoginPage.js\",\n  _s = $RefreshSig$();\n// src/pages/LoginPage.js\nimport React, { useEffect } from 'react';\nimport { useKeycloak } from '@react-keycloak/web';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport LoadingSpinner from '../components/common/LoadingSpinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginPage = () => {\n  _s();\n  const {\n    keycloak\n  } = useKeycloak();\n  const history = useHistory();\n  const location = useLocation();\n  useEffect(() => {\n    if (!keycloak.authenticated) {\n      var _location$state, _location$state$from;\n      keycloak.login({\n        redirectUri: window.location.origin + (((_location$state = location.state) === null || _location$state === void 0 ? void 0 : (_location$state$from = _location$state.from) === null || _location$state$from === void 0 ? void 0 : _location$state$from.pathname) || '/')\n      });\n    } else {\n      var _location$state2, _location$state2$from;\n      history.replace(((_location$state2 = location.state) === null || _location$state2 === void 0 ? void 0 : (_location$state2$from = _location$state2.from) === null || _location$state2$from === void 0 ? void 0 : _location$state2$from.pathname) || '/');\n    }\n  }, [keycloak, history, location]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex items-center justify-center bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(LoadingSpinner, {\n      size: \"large\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"ml-4 text-gray-600\",\n      children: \"Redirection vers le portail d'authentification...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 5\n  }, this);\n};\n_s(LoginPage, \"dO+IGBMIIObBbULofms9EWoP3sI=\", false, function () {\n  return [useKeycloak, useHistory, useLocation];\n});\n_c = LoginPage;\nexport default LoginPage;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["React","useEffect","useKeycloak","useHistory","useLocation","LoadingSpinner","jsxDEV","_jsxDEV","LoginPage","_s","keycloak","history","location","authenticated","_location$state","_location$state$from","login","redirectUri","window","origin","state","from","pathname","_location$state2","_location$state2$from","replace","className","children","size","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/ayoub/OneDrive/Bureau/est-sale-frontend/src/pages/LoginPage.js"],"sourcesContent":["// src/pages/LoginPage.js\r\nimport React, { useEffect } from 'react';\r\nimport { useKeycloak } from '@react-keycloak/web';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport LoadingSpinner from '../components/common/LoadingSpinner';\r\n\r\nconst LoginPage = () => {\r\n  const { keycloak } = useKeycloak();\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    if (!keycloak.authenticated) {\r\n      keycloak.login({\r\n        redirectUri: window.location.origin + (location.state?.from?.pathname || '/')\r\n      });\r\n    } else {\r\n      history.replace(location.state?.from?.pathname || '/');\r\n    }\r\n  }, [keycloak, history, location]);\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n      <LoadingSpinner size=\"large\" />\r\n      <p className=\"ml-4 text-gray-600\">Redirection vers le portail d'authentification...</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginPage;"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,WAAW,QAAQ,qBAAqB;AACjD,SAASC,UAAU,EAAEC,WAAW,QAAQ,kBAAkB;AAC1D,OAAOC,cAAc,MAAM,qCAAqC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjE,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAM;IAAEC;EAAS,CAAC,GAAGR,WAAW,CAAC,CAAC;EAClC,MAAMS,OAAO,GAAGR,UAAU,CAAC,CAAC;EAC5B,MAAMS,QAAQ,GAAGR,WAAW,CAAC,CAAC;EAE9BH,SAAS,CAAC,MAAM;IACd,IAAI,CAACS,QAAQ,CAACG,aAAa,EAAE;MAAA,IAAAC,eAAA,EAAAC,oBAAA;MAC3BL,QAAQ,CAACM,KAAK,CAAC;QACbC,WAAW,EAAEC,MAAM,CAACN,QAAQ,CAACO,MAAM,IAAI,EAAAL,eAAA,GAAAF,QAAQ,CAACQ,KAAK,cAAAN,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBO,IAAI,cAAAN,oBAAA,uBAApBA,oBAAA,CAAsBO,QAAQ,KAAI,GAAG;MAC9E,CAAC,CAAC;IACJ,CAAC,MAAM;MAAA,IAAAC,gBAAA,EAAAC,qBAAA;MACLb,OAAO,CAACc,OAAO,CAAC,EAAAF,gBAAA,GAAAX,QAAQ,CAACQ,KAAK,cAAAG,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBF,IAAI,cAAAG,qBAAA,uBAApBA,qBAAA,CAAsBF,QAAQ,KAAI,GAAG,CAAC;IACxD;EACF,CAAC,EAAE,CAACZ,QAAQ,EAAEC,OAAO,EAAEC,QAAQ,CAAC,CAAC;EAEjC,oBACEL,OAAA;IAAKmB,SAAS,EAAC,0DAA0D;IAAAC,QAAA,gBACvEpB,OAAA,CAACF,cAAc;MAACuB,IAAI,EAAC;IAAO;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC/BzB,OAAA;MAAGmB,SAAS,EAAC,oBAAoB;MAAAC,QAAA,EAAC;IAAiD;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACpF,CAAC;AAEV,CAAC;AAACvB,EAAA,CArBID,SAAS;EAAA,QACQN,WAAW,EAChBC,UAAU,EACTC,WAAW;AAAA;AAAA6B,EAAA,GAHxBzB,SAAS;AAuBf,eAAeA,SAAS;AAAC,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}