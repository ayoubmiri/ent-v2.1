{"ast":null,"code":"export const auth = {\n  async initiateLogin() {\n    const response = await fetch('/api/auth/url');\n    const {\n      url\n    } = await response.json();\n    window.location.href = url;\n  },\n  async handleCallback(code) {\n    const response = await fetch('/api/auth/token', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        code\n      })\n    });\n    return await response.json();\n  },\n  async getUserInfo(token) {\n    const response = await fetch('/api/user/info', {\n      headers: {\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    return await response.json();\n  },\n  async getUserMetadata(token) {\n    const response = await fetch('/api/user/metadata', {\n      headers: {\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    return await response.json();\n  },\n  logout() {\n    localStorage.removeItem('authToken');\n    localStorage.removeItem('user');\n    window.location.href = '/';\n  }\n};","map":{"version":3,"names":["auth","initiateLogin","response","fetch","url","json","window","location","href","handleCallback","code","method","headers","body","JSON","stringify","getUserInfo","token","getUserMetadata","logout","localStorage","removeItem"],"sources":["C:/Users/ayoub/OneDrive/Bureau/ENT-V2.0/est-sale-frontend/src/services/auth.js"],"sourcesContent":["export const auth = {\r\n  async initiateLogin() {\r\n    const response = await fetch('/api/auth/url');\r\n    const { url } = await response.json();\r\n    window.location.href = url;\r\n  },\r\n\r\n  async handleCallback(code) {\r\n    const response = await fetch('/api/auth/token', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ code }),\r\n    });\r\n    return await response.json();\r\n  },\r\n\r\n  async getUserInfo(token) {\r\n    const response = await fetch('/api/user/info', {\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n      }\r\n    });\r\n    return await response.json();\r\n  },\r\n\r\n  async getUserMetadata(token) {\r\n    const response = await fetch('/api/user/metadata', {\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n      }\r\n    });\r\n    return await response.json();\r\n  },\r\n\r\n  logout() {\r\n    localStorage.removeItem('authToken');\r\n    localStorage.removeItem('user');\r\n    window.location.href = '/';\r\n  }\r\n};"],"mappings":"AAAA,OAAO,MAAMA,IAAI,GAAG;EAClB,MAAMC,aAAaA,CAAA,EAAG;IACpB,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,eAAe,CAAC;IAC7C,MAAM;MAAEC;IAAI,CAAC,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;IACrCC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAGJ,GAAG;EAC5B,CAAC;EAED,MAAMK,cAAcA,CAACC,IAAI,EAAE;IACzB,MAAMR,QAAQ,GAAG,MAAMC,KAAK,CAAC,iBAAiB,EAAE;MAC9CQ,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEL;MAAK,CAAC;IAC/B,CAAC,CAAC;IACF,OAAO,MAAMR,QAAQ,CAACG,IAAI,CAAC,CAAC;EAC9B,CAAC;EAED,MAAMW,WAAWA,CAACC,KAAK,EAAE;IACvB,MAAMf,QAAQ,GAAG,MAAMC,KAAK,CAAC,gBAAgB,EAAE;MAC7CS,OAAO,EAAE;QACP,eAAe,EAAE,UAAUK,KAAK;MAClC;IACF,CAAC,CAAC;IACF,OAAO,MAAMf,QAAQ,CAACG,IAAI,CAAC,CAAC;EAC9B,CAAC;EAED,MAAMa,eAAeA,CAACD,KAAK,EAAE;IAC3B,MAAMf,QAAQ,GAAG,MAAMC,KAAK,CAAC,oBAAoB,EAAE;MACjDS,OAAO,EAAE;QACP,eAAe,EAAE,UAAUK,KAAK;MAClC;IACF,CAAC,CAAC;IACF,OAAO,MAAMf,QAAQ,CAACG,IAAI,CAAC,CAAC;EAC9B,CAAC;EAEDc,MAAMA,CAAA,EAAG;IACPC,YAAY,CAACC,UAAU,CAAC,WAAW,CAAC;IACpCD,YAAY,CAACC,UAAU,CAAC,MAAM,CAAC;IAC/Bf,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,GAAG;EAC5B;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}