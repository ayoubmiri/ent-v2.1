{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:5000/api';\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Add Keycloak token to requests if available\napi.interceptors.request.use(async config => {\n  const token = localStorage.getItem('keycloakToken');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\n\n// News endpoints\nexport const fetchNews = () => api.get('/news');\nexport const fetchNewsItem = id => api.get(`/news/${id}`);\nexport const createNews = data => api.post('/news', data);\nexport const updateNews = (id, data) => api.put(`/news/${id}`, data);\nexport const deleteNews = id => api.delete(`/news/${id}`);\n\n// Events endpoints\nexport const fetchEvents = () => api.get('/events');\nexport const fetchEvent = id => api.get(`/events/${id}`);\nexport const createEvent = data => api.post('/events', data);\nexport const updateEvent = (id, data) => api.put(`/events/${id}`, data);\nexport const deleteEvent = id => api.delete(`/events/${id}`);\n\n// Testimonials endpoints\nexport const fetchTestimonials = () => api.get('/testimonials');\nexport const fetchTestimonial = id => api.get(`/testimonials/${id}`);\nexport const createTestimonial = data => api.post('/testimonials', data);\nexport const updateTestimonial = (id, data) => api.put(`/testimonials/${id}`, data);\nexport const deleteTestimonial = id => api.delete(`/testimonials/${id}`);\n\n// Stats endpoints\nexport const fetchStats = () => api.get('/stats');\nexport const updateStats = data => api.put('/stats', data);\n\n// Formations endpoints\nexport const fetchFormations = () => api.get('/formations');\nexport const fetchFormation = id => api.get(`/formations/${id}`);\nexport const createFormation = data => api.post('/formations', data);\nexport const updateFormation = (id, data) => api.put(`/formations/${id}`, data);\nexport const deleteFormation = id => api.delete(`/formations/${id}`);\nexport default api;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","api","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","error","Promise","reject","fetchNews","get","fetchNewsItem","id","createNews","data","post","updateNews","put","deleteNews","delete","fetchEvents","fetchEvent","createEvent","updateEvent","deleteEvent","fetchTestimonials","fetchTestimonial","createTestimonial","updateTestimonial","deleteTestimonial","fetchStats","updateStats","fetchFormations","fetchFormation","createFormation","updateFormation","deleteFormation"],"sources":["C:/Users/ayoub/OneDrive/Bureau/est-sale-frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:5000/api';\r\n\r\nconst api = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Add Keycloak token to requests if available\r\napi.interceptors.request.use(\r\n  async (config) => {\r\n    const token = localStorage.getItem('keycloakToken');\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// News endpoints\r\nexport const fetchNews = () => api.get('/news');\r\nexport const fetchNewsItem = (id) => api.get(`/news/${id}`);\r\nexport const createNews = (data) => api.post('/news', data);\r\nexport const updateNews = (id, data) => api.put(`/news/${id}`, data);\r\nexport const deleteNews = (id) => api.delete(`/news/${id}`);\r\n\r\n// Events endpoints\r\nexport const fetchEvents = () => api.get('/events');\r\nexport const fetchEvent = (id) => api.get(`/events/${id}`);\r\nexport const createEvent = (data) => api.post('/events', data);\r\nexport const updateEvent = (id, data) => api.put(`/events/${id}`, data);\r\nexport const deleteEvent = (id) => api.delete(`/events/${id}`);\r\n\r\n// Testimonials endpoints\r\nexport const fetchTestimonials = () => api.get('/testimonials');\r\nexport const fetchTestimonial = (id) => api.get(`/testimonials/${id}`);\r\nexport const createTestimonial = (data) => api.post('/testimonials', data);\r\nexport const updateTestimonial = (id, data) => api.put(`/testimonials/${id}`, data);\r\nexport const deleteTestimonial = (id) => api.delete(`/testimonials/${id}`);\r\n\r\n// Stats endpoints\r\nexport const fetchStats = () => api.get('/stats');\r\nexport const updateStats = (data) => api.put('/stats', data);\r\n\r\n// Formations endpoints\r\nexport const fetchFormations = () => api.get('/formations');\r\nexport const fetchFormation = (id) => api.get(`/formations/${id}`);\r\nexport const createFormation = (data) => api.post('/formations', data);\r\nexport const updateFormation = (id, data) => api.put(`/formations/${id}`, data);\r\nexport const deleteFormation = (id) => api.delete(`/formations/${id}`);\r\n\r\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}